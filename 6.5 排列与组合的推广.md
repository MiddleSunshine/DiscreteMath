# 6.5 排列与组合的推广

#### 有重复的排列

> 当具有n个元素的集合允许重复的r位排列时，排列数是 n^r

比如以5个字母为总数的英语单词数量最多是：5^26

#### 有重复的组合

> 当具有n个元素的集合允许重复的r位组合时，组合总数是 C(n+r-1,r)=C(n+r-1,n-1)

这个怎么理解呢，当我们允许选择重复值时，其实就是在其中允许加入空值，这样的空值最多允许加入`(r-1)`位，因为全部的空值在之前的选项中有，如下图所示：



![](https://tva1.sinaimg.cn/large/008eGmZEgy1gmij0pfb3vj30mi0eddg3.jpg)

#### 部分重复的排列

简单来说就是不是所有值都可以重复，比如`Apple`这个单词有多少种排列方式，你就不能简单的用5^5来计算了，因为其中有重复项。

> 设类型1的相同物体有n1个，类型2的相同物体有n2个。。。。。。类型k的相同物体有nk个，那么n个物体的不同排列数是

$$
\frac{n!}{(n_1)!(n_2)! \cdots (n_k)!}
$$

证明：
$$
对类型1的物体，其有 C(n,n_1)种组合，\\
对类型2的物体，其有 C(n-n_1,n_2)种组合，\\
\vdots \\
对类型k的物体，其有 C(n-n_1-n_2-n_3 \cdots -{n}_{n_k-1},n_k)种组合 \\
所以总共的排列总数是\\
C(n,n_1) \cdot C(n-n_1,n_2) \cdots C(n-n_1-n_2-n_3 \cdots -{n}_{n_k-1},n_k) \\
= \frac{n!}{(n-n_1)!{n}_{1}!} \cdot \frac{(n-n_1)!}{(n-n_1-n_2)!{n}_{2}!} \cdots \\
= \frac{n!}{(n_1)!(n_2)! \cdots (n_k)!}
$$

## 变形

#### 可辨别的物体与可辨别的盒子

例如，把52张牌，分给4个人，每个人5张牌，问有多少种方式。这个问题和上面部分重复的排列是一样的。只是有一点，那就是最后需要剩下32张牌，即最后一个类型的值是32.

“
$$
把n个不同的物体分配到k个不同的盒子使得n_i个物体放入盒子i的方式数等于\\
\frac{n!}{(n_1)!(n_2)! \cdots (n_k)!}
$$
”

#### 不可辨别的物体与可辨别的盒子

这个啥意思呢？比如将相同的10个小球放入编号1-8的桶中，共有多少种放法，是不是就是上面的有重复的组合，所以结论就是：
$$
C(10+8-1,8)
$$

#### 可辨别的物体与不可辨别的盒子

这个比较麻烦，那就是将10个不同的小球，放到4个相同的桶中，共有多少种放法。

这个等到《第八章：高级计数》的时候再去介绍。

#### 不可辨别的物体和不可辨别的盒子

这个就是将10个相同的小球，放到4个相同的桶中，共有多少种放法。

这个换一种问法就是10可以拆分成多少种4个数的加法，暂时好像只有列举法：

- 10=10+0+0+0
- 10=1+9+0+0
- 10=1+8+1+0
- ......

